{"ast":null,"code":"var _jsxFileName = \"/Users/lolo/Desktop/Bootcamp/bootcamp/Proyecto 3/crossfit/client/src/components/Profile/ProfileData.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link, Outlet, useNavigate } from \"react-router-dom\";\nimport './Profile.css';\nimport NavBar from \"../NavBar/NavBar\";\nimport swal from \"sweetalert\";\nimport Loader from \"../Loader/Loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileData = () => {\n  _s();\n\n  // const [successMessage, setSuccessMessage] = useState(null)\n  // const [errorMessage, setErrorMessage] = useState(null)\n  const [userData, setUserData] = useState([]);\n  const token = localStorage.getItem('firsLogin');\n  const [imagen, setImagen] = useState(\"https://st3.depositphotos.com/19428878/36349/v/600/depositphotos_363499050-stock-illustration-default-avatar-profile-vector-user.jpg\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    // if (!token) navigate('/')\n    let mounted = true;\n    axios.get(\"/api/profile\", {\n      headers: {\n        \"Authorization\": token\n      }\n    }).then(response => {\n      if (mounted) {\n        setUserData(response.data.user);\n        setImagen(response.data.user.imagen.url);\n      }\n    });\n    return () => {\n      mounted = false;\n    };\n  });\n\n  const showAlert = () => {\n    swal({\n      title: \"¿Eliminar cuenta?\",\n      text: \"¿Estás seguro que quieres eliminar tu cuenta? No podrás recuperarla\",\n      icon: \"warning\",\n      buttons: [\"No\", \"Si\"]\n    }).then(respuesta => {\n      if (respuesta) {\n        axios.delete(\"/api/deleteUser\", {\n          headers: {\n            \"Authorization\": token\n          }\n        });\n        swal({\n          text: \"Tu cuenta se ha eliminado correctamente\",\n          icon: \"success\",\n          timer: \"2000\"\n        });\n        localStorage.removeItem(\"firsLogin\");\n        navigate('/');\n      }\n    });\n  };\n\n  const cargando = () => {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  };\n\n  const screen = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"subtitle\",\n        children: \"Perfil - General\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container_ima_profile\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"\",\n          className: \"profile_photo\",\n          src: imagen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"container container_profile\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerInput containerInputName\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"copy_Input copy_Input_nombre\",\n            children: \"Nombre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: userData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"copy_Input\",\n            children: \"Apellido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: userData.surname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerInput containerInputEmail\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"copy_Input\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: userData.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container_input_addTmtb\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"profileModify\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button_submit\",\n            children: \"Modificar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button_delete_user\",\n          onClick: () => {\n            showAlert();\n          },\n          children: \"Eliminar Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container_back_button\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"far fa-arrow-alt-circle-left buttonBack\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: imagen ? screen() : cargando()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfileData, \"DnG8hv5cN2GTQ9NdVM2r/gSAFaQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ProfileData;\nexport default ProfileData;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileData\");","map":{"version":3,"sources":["/Users/lolo/Desktop/Bootcamp/bootcamp/Proyecto 3/crossfit/client/src/components/Profile/ProfileData.js"],"names":["axios","useEffect","useState","Link","Outlet","useNavigate","NavBar","swal","Loader","ProfileData","userData","setUserData","token","localStorage","getItem","imagen","setImagen","navigate","mounted","get","headers","then","response","data","user","url","showAlert","title","text","icon","buttons","respuesta","delete","timer","removeItem","cargando","screen","name","surname","email"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport {  useEffect, useState } from \"react\"\nimport { Link, Outlet, useNavigate } from \"react-router-dom\"\nimport './Profile.css'\nimport NavBar from \"../NavBar/NavBar\"\nimport swal from \"sweetalert\"\nimport Loader from \"../Loader/Loader\"\n\nconst ProfileData = () =>{\n\n    // const [successMessage, setSuccessMessage] = useState(null)\n    // const [errorMessage, setErrorMessage] = useState(null)\n\n    const [userData, setUserData] = useState([]) \n    const token = localStorage.getItem('firsLogin')\n    const [imagen, setImagen] = useState(\"https://st3.depositphotos.com/19428878/36349/v/600/depositphotos_363499050-stock-illustration-default-avatar-profile-vector-user.jpg\")\n        \n    const navigate = useNavigate()\n    \n        \n    \n    useEffect(()=>{\n        // if (!token) navigate('/')\n        let mounted = true\n        axios.get(\"/api/profile\", {headers:{\"Authorization\": token}}).then((response) =>{\n            if (mounted){\n                setUserData(response.data.user) \n                setImagen(response.data.user.imagen.url)\n            }\n        })\n        return () =>{\n            mounted = false\n        }\n    }, )\n\n    const showAlert = () =>{\n        \n        swal({\n            title: \"¿Eliminar cuenta?\",\n            text: \"¿Estás seguro que quieres eliminar tu cuenta? No podrás recuperarla\",\n            icon: \"warning\",\n            buttons: [\"No\", \"Si\"]\n        }).then(respuesta  =>{\n            if(respuesta){\n                axios.delete(\"/api/deleteUser\", {headers: {\"Authorization\": token}})\n                swal({text: \"Tu cuenta se ha eliminado correctamente\", icon: \"success\", timer: \"2000\"})\n                localStorage.removeItem(\"firsLogin\")\n                navigate('/')\n            }   \n            })\n    }\n\n    const cargando = () =>{\n        return (\n            <Loader />\n        )\n    }\n        \n\n        \n    const screen = () =>{\n\n    return(\n        <div >\n            <NavBar />\n            <h2 className=\"subtitle\">Perfil - General</h2>\n            <div className=\"container_ima_profile\">\n                <img alt=\"\" className=\"profile_photo\" src={imagen}></img>\n            </div>\n            <form className=\"container container_profile\">\n                <div className=\"containerInput containerInputName\">\n                    <p className=\"copy_Input copy_Input_nombre\">Nombre</p>\n                    <p>{userData.name}</p>\n                </div>\n                <div className=\"containerInput\">\n                    <p className=\"copy_Input\">Apellido</p>\n                    <p>{userData.surname}</p>\n                </div>\n                <div className=\"containerInput containerInputEmail\">\n                    <p className=\"copy_Input\">Email</p>\n                    <p>{userData.email}</p>\n                </div>\n            </form>\n            <div className=\"container_input_addTmtb\"> \n            <Link to=\"profileModify\">\n                <button className=\"button_submit\">Modificar</button>\n                </Link>\n             <button className=\"button_delete_user\" onClick={()=>{showAlert()}}>Eliminar Perfil</button>\n             </div>\n            <Outlet />\n            \n            <Link to=\"/profile\">\n                <div className=\"container_back_button\">\n                <i className=\"far fa-arrow-alt-circle-left buttonBack\"></i>\n                </div>\n            </Link>\n            \n\n        </div>\n        )\n    \n    }\n\nreturn (\n    <div>\n        {\n            imagen ? screen() : cargando() \n        }\n    </div>\n    )\n}\n\nexport default ProfileData"]},"metadata":{},"sourceType":"module"}